<div class="bg-gray-50 font-exo min-h-screen flex items-center justify-center">
  <div class="max-w-screen-lg mx-auto p-8 flex gap-8">
    <!-- Sidebar -->
    <div class="w-1/3 bg-white p-6 shadow-xl rounded-xl">
      <div class="text-center">
        <div class="relative inline-block mb-6">
          <!-- Profile Picture -->
          <img
            [src]="profilePictureUrl"
            alt="Profile Picture"
            class="w-32 h-32 rounded-full mx-auto object-cover shadow-md"
          />
          <!-- Update Profile Picture Icon with File Upload -->
          <button
            class="absolute bottom-2 right-2 bg-pink-500 text-white w-8 h-8 rounded-full shadow-md flex items-center justify-center hover:bg-pink-600 transition"
          >
            <mat-icon>edit</mat-icon>
            <!-- Hidden File Input for Profile Picture -->
            <input
              type="file"
              (change)="onFileChange($event)"
              class="absolute inset-0 opacity-0 cursor-pointer"
              aria-label="Upload Profile Picture"
            />
          </button>
        </div>
        <div>
          <p class="text-3xl font-semibold text-gray-800">
            {{ user?.username }}
          </p>
          <p class="text-lg text-gray-500">{{ user?.email }}</p>
        </div>
      </div>

      <!-- User Preferences -->
      <div class="mt-8 border-t pt-6 space-y-4 text-gray-600">
        <div>
          <p class="font-semibold text-gray-800">Preferred Language</p>
          <p class="text-gray-700">
            {{ user?.preferredLanguage || "Not specified" }}
          </p>
        </div>
        <div>
          <p class="font-semibold text-gray-800">Preferred Currency</p>
          <p class="text-gray-700">
            {{ user?.preferredCurrency || "Not specified" }}
          </p>
        </div>
      </div>
    </div>

    <!-- Profile Update Form -->
    <div class="w-2/3">
      <div class="bg-white p-8 shadow-xl rounded-xl">
        <h2 class="text-3xl font-bold mb-6 text-gray-800">Update Profile</h2>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <!-- Personal Information Section -->
          <h3 class="text-xl font-semibold text-gray-700 mb-4">
            Personal Information
          </h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <!-- Username -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="username"
                >Username</label
              >
              <input
                formControlName="username"
                type="text"
                id="username"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter new username"
              />
            </div>
            <!-- Email -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="email"
                >Email</label
              >
              <input
                formControlName="email"
                type="email"
                id="email"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your email"
              />
            </div>
          </div>

          <!-- Name Section -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <!-- First Name -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="firstName"
                >First Name</label
              >
              <input
                formControlName="firstName"
                type="text"
                id="firstName"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your first name"
                required
              />
            </div>
            <!-- Last Name -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="lastName"
                >Last Name</label
              >
              <input
                formControlName="lastName"
                type="text"
                id="lastName"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your last name"
                required
              />
            </div>
          </div>

          <!-- Contact Information -->
          <h3 class="text-xl font-semibold text-gray-700 mb-4">
            Contact Information
          </h3>
          <div class="mb-6">
            <!-- Phone Number -->
            <label
              class="block text-gray-700 text-sm font-bold mb-2"
              for="phoneNumber"
              >Phone Number (optional)</label
            >
            <input
              formControlName="phoneNumber"
              type="tel"
              id="phoneNumber"
              class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
              placeholder="Enter your phone number"
            />
          </div>

          <!-- Preferences Section -->
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Preferences</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <!-- Preferred Language -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="preferredLanguage"
                >Preferred Language</label
              >
              <input
                formControlName="preferredLanguage"
                type="text"
                id="preferredLanguage"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your preferred language"
              />
            </div>
            <!-- Preferred Currency -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="preferredCurrency"
                >Preferred Currency</label
              >
              <input
                formControlName="preferredCurrency"
                type="text"
                id="preferredCurrency"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your preferred currency"
              />
            </div>
          </div>

          <!-- Security Section -->
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Update Password</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <!-- Old Password (Optional) -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="oldPassword"
                >Old Password</label
              >
              <input
                formControlName="oldPassword"
                type="password"
                id="oldPassword"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your old password (if changing)"
              />
            </div>
            <!-- New Password (Optional) -->
            <div>
              <label
                class="block text-gray-700 text-sm font-bold mb-2"
                for="newPassword"
                >New Password</label
              >
              <input
                formControlName="newPassword"
                type="password"
                id="newPassword"
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"
                placeholder="Enter your new password"
              />
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="bg-blue-500 text-white px-6 py-3 rounded-lg w-full font-semibold hover:bg-blue-600 transition duration-200"
          >
            Update Profile
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
